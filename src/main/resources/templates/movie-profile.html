<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title th:text="${movie.title}">Movie Profile</title>
    <meta name="author" content="L. Murphy-Delgado"/>
    <meta name="description" content="This is page generates when the user has selected a movie by its ID"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>

</head>
<body>
<div>
    <main lang="en-GB">
        <div id="header" class="mx-2">
            <h1 th:text="${movie.title}">Movie Title</h1>
        </div>
        <div id="content" class="container-fluid">
            <div class="w-25 float-end col border border-1 rounded ">
                <div class="mt-3 mx-3 text-center"><h2 th:text="${movie.title}">Movie Title</h2></div>
                <div class="mx-3 text-center text-capitalize"><h3 th:text="'('+${movie.type}+')'">(Type)</h3></div>
                <div class="mt-3 mx-3 text-center">
                    <img th:if="${movie.poster!=null}" th:src="${movie.poster}" class="img-thumbnail" style="width:200px">
                    <img th:unless="${movie.poster!=null}"
                         src="https://i0.wp.com/moviemarker.co.uk/wp-content/uploads/NoPosterAvailable.jpg" alt="Poster"
                         class="img-thumbnail" style="width:200px">
                </div>
                <div>
                    <table class="table mt-3 border-top">
                        <tr>
                            <th>Year</th>
                            <td class="border-start" th:text="${movie.year}"></td>
                        </tr>
                        <tr th:if="${movie.writers!=null}">
                            <th>Writers</th>
                            <td class="border-start">
                                <ul class="list-unstyled" th:each="writer:${movie.writers}">
                                    <li th:text="${writer}">Name</li>
                                </ul>
                            </td>
                        </tr>
                        <tr th:if="${movie.genres!=null}">
                            <th>Genre</th>
                            <td class="border-start">
                                <ul class="list-unstyled" th:each="genre:${movie.genres}">
                                    <li th:text="${genre}">Romance</li>
                                </ul>
                            </td>
                        </tr>
                        <tr th:if="${movie.cast!=null}">
                            <th>Cast</th>
                            <td class="border-start">
                                <ul class="list-unstyled" th:each="member:${movie.cast}">
                                    <li th:text="${member}">Margot Robbie</li>
                                </ul>
                            </td>
                        </tr>
                        <tr th:if="${movie.directors!=null}">
                            <th>Directors</th>
                            <td class="border-start">
                                <ul class="list-unstyled" th:each="director:${movie.directors}">
                                    <li th:text="${director}">Greta Gerwig</li>
                                </ul>
                            </td>
                        </tr>
                        <tr th:if="${movie.languages!=null}">
                            <th>Languages</th>
                            <td class="border-start">
                                <ul class="list-unstyled" th:each="language:${movie.languages}">
                                    <li th:text="${language}"></li>
                                </ul>
                            </td>
                        </tr>
                        <tr th:if="${movie.countries!=null}">
                            <th>Countries</th>
                            <td class="border-start">
                                <ul class="list-unstyled" th:each="country:${movie.countries}">
                                    <li th:text="${country}"></li>
                                </ul>
                            </td>
                        </tr>
                        <tr th:if="${movie.rated!=null}">
                            <th>Rating</th>
                            <td class="border-start" th:text="${movie.rated}">PG</td>
                        </tr>
                        <tr th:if="${movie.runtime!=null}">
                            <th>Runtime</th>
                            <td class="border-start" th:text="${movie.runtime}"></td>
                        </tr>
                        <tr th:if="${movie.released!=null}">
                            <th>Release Date</th>
                            <td class="border-start" th:text="${movie.released}"></td>
                        </tr>
                    </table>
                </div>
            </div>
            <div id="maincontent" class="w-75 col pe-3">
                <div class="mx-3">
                    <p th:text="${movie.plot}">Lorem ipsum dolor sit amet.</p>
                </div>
                <div class="mx-3">
                    <h4 class="border-bottom">Content</h4>
                    <ol class="list-unstyled mx-3">
                        <li><a href="#Full Plot" th:if="${movie.fullplot!=null}">Full Plot</a></li>
                        <li><a href="#Awards" th:if="${movie.awards!=null}">Awards</a></li>
                        <li th:if="${movie.imdb!=null} or ${movie.tomatoes!=null}"><a href="#Reviews">Reviews</a>
                            <ul class="list-unstyled mx-3">
                                <li th:if="${movie.imdb!=null}"><a href="#imdb">IMDB</a></li>
                                <li th:if="${movie.tomatoes!=null}"><a href="#Tomatoes">Tomatoes</a></li>
                            </ul>
                        </li>

                    </ol>
                </div>
                <div th:if="${movie.fullplot!=null}" class="mx-3">
                    <h4 id="Full Plot" class="border-bottom">Full Plot</h4>
                    <p th:text="${movie.fullplot}">Lorem ipsum dolor sit amet.</p>
                </div>
                <div th:if="${movie.awards!=null}" class="mx-3">
                    <h4 id="Awards" class="border-bottom">Awards</h4>
                    <div class="mx-3">
                        <table class="table table-hover table-striped table-bordered caption-top">
                            <caption th:text="${movie.awards.text}" class="text-center">1 win.</caption>
                            <tr>
                                <th>Nominations</th>
                                <td th:text="${movie.awards.nominations}">1</td>
                            </tr>
                            <tr>
                                <th>Wins</th>
                                <td th:text="${movie.awards.wins}">1</td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div th:if="${movie.imdb!=null} or ${movie.tomatoes!=null}" class="mx-3">
                    <h4 id="Reviews" class="border-bottom">Reviews</h4>
                    <div>
                        <div th:if="${movie.imdb!=null}" class="mx-3">
                            <h5 id="imdb" class="border-bottom">IMDB</h5>
                            <table class="table table-hover table-striped table-bordered caption-top">
                                <tr>
                                    <th>ID</th>
                                    <td th:text="${movie.imdb.id}">1</td>
                                </tr>
                                <tr>
                                    <th>Rating</th>
                                    <td th:text="${movie.imdb.rating}">1</td>
                                </tr>
                                <tr>
                                    <th>Votes</th>
                                    <td th:text="${movie.imdb.votes}">1</td>
                                </tr>
                            </table>
                        </div>
                    </div>
                    <div>
                        <div th:if="${movie.tomatoes!=null}" class="mx-3">
                            <h5 id="Tomatoes" class="border-bottom">Tomatoes</h5>
                            <h6 class="border-bottom">Viewer</h6>
                            <table class="table table-hover table-striped table-bordered caption-top">
                                <tr>
                                    <th>Meter</th>
                                    <td th:text="${movie.tomatoes.viewer.meter}">1</td>
                                </tr>
                                <tr>
                                    <th>Rating</th>
                                    <td th:text="${movie.tomatoes.viewer.rating}">1</td>
                                </tr>
                                <tr>
                                    <th>Number of Reviews</th>
                                    <td th:text="${movie.tomatoes.viewer.numReviews}">1</td>
                                </tr>
                            <caption th:text="'Tomatoes was last updated '+${movie.tomatoes.lastUpdated}">Last updated</caption>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="footer" class="mx-3">
            <footer class="fst-italic" th:if="${movie.lastupdated!=null}" th:text="'Last Updated: '+${movie.lastupdated}">Last Updated: 2015-08-29 00:27:45.437000000</footer>
        </div>
    </main>
</div>
</body>
</html>